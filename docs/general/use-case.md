# Proof of Concept Use Case

## Common Scenarios for any Indy project

From an Indy perspective we can identify different common scenarios. Assuming we have a running pool network, the first 
step we need to do is to have decentralized identifiers (DIDs) for all the participants that will act as trusted parties
(issuers of credentials). This DIDs will be used by verifiers when they check the origin and trustworthiness of the 
data/credentials received from provers. That's why verifiers are also known as relying parties, they rely on the issuers.
New issuers need at least to have a Trust Anchor DID, this transaction can only be submitted by Stewards which can only 
be added by Trustees. For more info about indy roles and permissions please check this page. The step known as Onboarding
refers to the previously described process, where new DIDs are recorded in the ledger with different roles.

1. Onboarding    
    * Add Stewards
    * Add Trust Anchors
    
1. Schemas, Credential Definitions, Revocation Definitions & Revocation Registries
   * Schemas define the structure of the credentials. 
    e.g. Passport will have multiple attributes: First Name, Surname, Date of Birth...
   * Credential definitions are the link between schemas and cryptographic primitives generated by issuers
   * Revocation definitions linked to the credential definitions, provide enough information need from verifiers and 
   provers to create and check if credentials are revoked by the issuer.

1. Pairwise connection between Agents
    * Private exchange of DIDs to establish a secure connection between two parties
    * The DIDs used to encrypt and sign the data send by this two parties are private and not re-used for any other reason.
    
1. Attestation
    * Issuer sends credentials to Identity Holder using their secure communication channel

1. Verification
    * Identity holder generates cryptographic proof and relying party verifies it, (issuer does not participate in this step)

1. Revocation
    * Issuer revokes credentials and the Identity Holder can no longer generate valid proofs using those credentials*
    
> \* NOTE that verifier can decide for a non revoked interval period of time, if the credential was not revoked for that
requested time period the proof will be still valid.
    

## Identity Chain - Proof Of Concept Use Case

The goal of our first use case implementation was to get hands on with Hyperledger Indy by trying out different flowsl. 
Issuers providing credentials to citizens and how the citizens could use those received credentials to proof their 
identities to different parties. One of the most powerful credentials is the Passport data, and the most trusted parties 
for that information are usually the governments. Therefore we decided to start by citizens going to the city hall offices and getting on their
mobile application (digital wallet) the passport credentials. Once they had these credentials, they could register new
companies in the Chamber of Commerce and proof their identity by sending a proof with a subset of the passport information.
We wanted to test the Zero Knowledge Range Proof capabilities offered by Indy, so the proof needed to assure the citizen
was older than 18 years old without disclosing the Date of Birth to the Chamber of Commerce. After registering the new 
company, the owner of the company could receive a company credential. The passport and company credentials could be now
combined to generated a sufficient proof for a bank to open a commercial account.

As a summary taking into account all steps this are the scenarios we implemented.

1. Government creates Passport Schema, Credential Definition, Revocations Definitions & Registries
1. Citizen visit government office and presents his passport
1. Government verifies physical passport matches & provides the citizen with the passport credentials
1. Citizen registers a new company in the Chamber Of Commerce
1. Citizen proof his identity and the fact he/she is older than 18 years old
1. Chamber of Commerce verifies the proof is valid & provide owner with Company Credentials
1. Citizen can now proof his identity and ownership of a company to open a commercial account at a bank

#### Diagram flows

!!!include(docs/puml/Onboarding-Attestation-Citizen-by-Government.puml)!!!

!!!include(docs/puml/Verification-and-Attestation-Citizen-with-Chamber-Of-Commerce.puml)!!!

